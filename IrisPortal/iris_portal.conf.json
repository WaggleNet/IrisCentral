{
  "locations": {
    "stream": "/tmp/iris/stream",
    "upload": "/tmp/iris/upload"
  },
  "video": {
    "cameras": [
      {
        "url": "/dev/video0",
        "type": "video",
        "name": "Camera 1",
        "protocol": "v4l2",
        "id": "cam1",
        "param": "-vcodec h264"
      },
      {
        "url": "/dev/video2",
        "type": "video",
        "name": "Camera 2",
        "protocol": "v4l2",
        "id": "cam2",
        "param": "-vcodec h264"
      },
      {
        "url": "hw:2",
        "type": "audio",
        "name": "Audio Channel 1",
        "protocol": "alsa -ac 1",
        "id": "lav1",
        "param": ""
      }
    ],
    "capturer": {
      "cmd": [
        "ffmpeg", "-f {protocol}", "-i", "{url}",
        "-c copy -map 0 -strftime 1",  "{param}",
        "-f segment -segment_time {interval} -segment_format mp4",
        "-use_wallclock_as_timestamps 1 -reset_timestamps 1",
        "-segment_list {directory}/{camera_id}_index.txt",
        "{directory}/{camera_id}_out_%Y-%m-%d_%H-%M-%S.mp4"
      ],
      "config": {
        "interval": 60
      }
    }
  },
  "upload": {
    "location": "WaggleNet/recordings"
  },
  "console": {
    "address": "127.0.0.1",
    "port": "6723"
  }
}